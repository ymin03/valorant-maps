<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>ë°œë¡œë€íŠ¸ ë§µ ì¶”ì²¨ê¸°</title>
  <style>
    body { 
      font-family: Arial, sans-serif; 
      text-align: center; 
      margin-top: 30px; 
      color: white;
      background: #0f1923;
    h1 { color: #ff4655; }
    }
    /* ë²„íŠ¼ */
    .btn {
      padding: 12px 25px; 
      font-size: 18px; 
      margin-top: 20px; 
      cursor: pointer; 
      border: none;
      border-radius: 10px;
      background: #ff4655;
      color: white;
      font-weight: bold;
      box-shadow: 0 4px 6px rgba(0,0,0,0.4);
      transition: transform 0.2s;
    }
    .btn:hover {
      transform: scale(1.05);
      background: #e03a47;
    }

    /* ê²°ê³¼ ë°•ìŠ¤ */
    #result { 
      margin-top: 20px; 
      font-size: 22px; 
      font-weight: bold; 
      color: white;
      background: #1f2937;
      padding: 12px 20px;
      border-radius: 10px;
      display: inline-block;
      box-shadow: 0 4px 6px rgba(0,0,0,0.4);
    }

    /* ì²´í¬ë°•ìŠ¤ ë¦¬ìŠ¤íŠ¸ */
    .checkbox-list {
      margin-top: 20px;
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 15px;
    }
    .checkbox-list label {
      display: flex;
      align-items: center;
      font-size: 16px;
      cursor: pointer;
    }
    .checkbox-list input {
      margin-right: 5px;
      transform: scale(1.2);
      cursor: pointer;
    }

    /* ë§µ ì¹´ë“œ ë¦¬ìŠ¤íŠ¸ */
    .map-list {
      margin: 30px auto;
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
      gap: 15px;
      max-width: 1000px;
    }
    .map-box {
      background: #1f2937;
      border-radius: 12px;
      font-size: 18px;
      font-weight: bold;
      box-shadow: 0 4px 6px rgba(0,0,0,0.4);
      transition: transform 0.2s, background 0.2s, opacity 0.2s;
      display: flex;
      justify-content: center;
      align-items: flex-end;
      height: 120px;
      position: relative;
      color: white;
      background-size: cover;
      background-position: center;
      padding-bottom: 10px;
    }
    .map-box:hover {
      transform: scale(1.05);
      background: #374151;
    }

    /* ì„ íƒëœ ë§µ ê°•ì¡° */
    .selected {
      border: 3px solid #00ffa3;
      color: black;
      transform: scale(1.08);
    }

    /* ì²´í¬ í•´ì œëœ ë§µ ì‹œê°ì  í‘œì‹œ */
    .disabled {
      opacity: 0.4;
    }
  </style>
</head>
<body>
  <h1>ğŸ² ë°œë¡œì›”ë“œ ë§µ ì¶”ì²¨ê¸° ğŸ²</h1>

  <!-- ì²´í¬ë°•ìŠ¤ ì˜ì—­ -->
  <div class="checkbox-list" id="checkboxList"></div>

  <button class="btn" onclick="pickMap()">ë§µ ì¶”ì²¨í•˜ê¸°</button>
  <div id="result">ì—¬ê¸°ì— ë§µì´ í‘œì‹œë©ë‹ˆë‹¤</div>

  <!-- ë§µ ì¹´ë“œ ë¦¬ìŠ¤íŠ¸ -->
  <div class="map-list" id="mapList"></div>

  <script>
    const maps = [
      { name: "Split", img: "https://raw.githubusercontent.com/ymin03/valorant-maps/main/SPLIT.png" },
      { name: "Bind", img: "https://raw.githubusercontent.com/ymin03/valorant-maps/main/BIND.png" },
      { name: "Haven", img: "https://raw.githubusercontent.com/ymin03/valorant-maps/main/HAVEN.png" },
      { name: "Ascent", img: "https://raw.githubusercontent.com/ymin03/valorant-maps/main/ASCENT.png" },
      { name: "Icebox", img: "https://raw.githubusercontent.com/ymin03/valorant-maps/main/ICEBOX.png" },
      { name: "Breeze", img: "https://raw.githubusercontent.com/ymin03/valorant-maps/main/BREEZE.png" },
      { name: "Fracture", img: "https://raw.githubusercontent.com/ymin03/valorant-maps/main/FRACTURE.png" },
      { name: "Pearl", img: "https://raw.githubusercontent.com/ymin03/valorant-maps/main/PEARL.png" },
      { name: "Lotus", img: "https://raw.githubusercontent.com/ymin03/valorant-maps/main/LOTUS.png" },
      { name: "Sunset", img: "https://raw.githubusercontent.com/ymin03/valorant-maps/main/SUNSET.png" },
      { name: "Abyss", img: "https://raw.githubusercontent.com/ymin03/valorant-maps/main/ABYSS.png" },
      { name: "Corrode", img: "https://raw.githubusercontent.com/ymin03/valorant-maps/main/CORRODE.png" }
    ];

    const mapListDiv = document.getElementById("mapList");
    const checkboxListDiv = document.getElementById("checkboxList");
    let selectedBox = null;

    // ì²´í¬ë°•ìŠ¤ ìƒì„±
    maps.forEach(map => {
      const label = document.createElement("label");
      const checkbox = document.createElement("input");
      checkbox.type = "checkbox";
      checkbox.checked = true;
      checkbox.value = map.name;
      label.appendChild(checkbox);
      label.appendChild(document.createTextNode(map.name));
      checkboxListDiv.appendChild(label);

      // ì²´í¬ ìƒíƒœ ë³€ê²½ ì‹œ ì¹´ë“œ ìŠ¤íƒ€ì¼ ë³€ê²½
      checkbox.addEventListener('change', () => {
        const box = document.querySelector(`.map-box[data-map="${map.name}"]`);
        if (checkbox.checked) {
          box.classList.remove("disabled");
        } else {
          box.classList.add("disabled");
          if (box.classList.contains("selected")) {
            box.classList.remove("selected");
            selectedBox = null;
            document.getElementById("result").innerText = "ì—¬ê¸°ì— ë§µì´ í‘œì‹œë©ë‹ˆë‹¤";
          }
        }
      });
    });

    // ë§µ ì¹´ë“œ ìƒì„±
    maps.forEach(map => {
      const div = document.createElement("div");
      div.className = "map-box";
      div.dataset.map = map.name;
      div.innerText = map.name;
      div.style.backgroundImage = `url('${map.img}')`;
      mapListDiv.appendChild(div);
    });

    // ë§µ ì¶”ì²¨ í•¨ìˆ˜
    function pickMap() {
      const checkedMaps = Array.from(document.querySelectorAll('.checkbox-list input:checked'))
                               .map(cb => cb.value);

      if (checkedMaps.length === 0) {
        alert("ìµœì†Œ í•œ ê°œ ì´ìƒì˜ ë§µì„ ì„ íƒí•´ì£¼ì„¸ìš”!");
        return;
      }

      const randomMap = checkedMaps[Math.floor(Math.random() * checkedMaps.length)];
      document.getElementById("result").innerText = `ì˜¤ëŠ˜ì˜ ë§µì€ ğŸ‘‰ ${randomMap}!`;

      if (selectedBox) selectedBox.classList.remove("selected");

      const boxes = document.querySelectorAll(".map-box");
      boxes.forEach(box => {
        if (box.dataset.map === randomMap) {
          box.classList.add("selected");
          selectedBox = box;
        }
      });
    }
  </script>
</body>
</html>
